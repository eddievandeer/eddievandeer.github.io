(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{370:function(t,s,a){"use strict";a.r(s);var e=a(25),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"docker笔记"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker笔记"}},[t._v("#")]),t._v(" Docker笔记")]),t._v(" "),a("h2",{attrs:{id:"docker常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker常用命令"}},[t._v("#")]),t._v(" Docker常用命令")]),t._v(" "),a("h3",{attrs:{id:"帮助命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#帮助命令"}},[t._v("#")]),t._v(" 帮助命令")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("docker version\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示docker的版本信息")]),t._v("\ndocker info\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示docker的系统信息，包括镜像和容器的数量")]),t._v("\ndocker 命令 --help\t  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 帮助命令")]),t._v("\n")])])]),a("h3",{attrs:{id:"镜像命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#镜像命令"}},[t._v("#")]),t._v(" 镜像命令")]),t._v(" "),a("p",[a("strong",[t._v("docker images：")]),t._v(" 查看所有本地主机上的镜像")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xxx /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker images")]),t._v("\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\ndocker.io/mysql     latest              db2b37ec6181        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" months ago        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("545")]),t._v(" MB\ndocker.io/mysql     "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8.0")]),t._v(".18              ed1ffcb5eff3        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(" months ago       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("456")]),t._v(" MB\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# REPOSITORY\t镜像的仓库源")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# TAG\t\t\t镜像的标签")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# IMAGE ID\t\t镜像ID")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# CREATED\t\t镜像的创建时间")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# SIZE\t\t\t镜像大小")]),t._v("\n")])])]),a("p",[a("strong",[t._v("docker search：")]),t._v(" 搜索镜像")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xxx /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker search mysql")]),t._v("\nINDEX       NAME                                        DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED\ndocker.io   docker.io/mysql                             MySQL is a widely used, open-source relati"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10414")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("       \ndocker.io   docker.io/mariadb                           MariaDB is a community-developed fork of M"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3866")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("       \ndocker.io   docker.io/mysql/mysql-server                Optimized MySQL Server Docker images. Crea"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("762")]),t._v("                  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("p",[a("strong",[t._v("docker pull：")]),t._v(" 下载镜像")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 默认下载最新版本，即：latest")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xxx /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker pull mysql")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 通过tag选择要下载的版本")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xxx /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker pull mysql:8.0.18")]),t._v("\n")])])]),a("p",[a("strong",[t._v("dicker rmi：")]),t._v(" 删除镜像")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 通过镜像的id进行删除")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xxx /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# dicker rmi -f IMAGE_ID")]),t._v("\n")])])]),a("h3",{attrs:{id:"容器命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#容器命令"}},[t._v("#")]),t._v(" 容器命令")]),t._v(" "),a("p",[a("strong",[t._v("有了镜像才可以创建容器")])]),t._v(" "),a("p",[a("strong",[t._v("下载镜像：")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xxx /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker pull centos")]),t._v("\n")])])]),a("p",[a("strong",[t._v("新建容器并启动：")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xxx /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker run [可选参数] image")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 参数说明")]),t._v("\n--name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Name"')]),t._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 容器名字")]),t._v("\n-d\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 后台方式运行")]),t._v("\n-it\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 示用交互方式运行，进入容器查看内容")]),t._v("\n-p\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 指定容器的端口，使用方式有如下几种：")]),t._v("\n\t-p ip:主机端口:容器端口\n\t-p 主机端口:容器端口（常用）\n\t-p 容器端口\n\t容器端口\n-P\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 随机指定端口")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启动centos容器")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xxx /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker run -it centos /bin/bash")]),t._v("\n")])])]),a("p",[a("strong",[t._v("退出容器：")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 停止容器并从容器中退回主机")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xxx /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker exit")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 容器不停止退出")]),t._v("\nCtrl + P + Q\n")])])]),a("p",[a("strong",[t._v("列出所有运行中的容器：")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xxx /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker ps")]),t._v("\n")])])]),a("p",[a("strong",[t._v("删除容器：")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除指定的容器，不能删除运行中的容器，如要强制删除使用rm -f")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xxx /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker rm 容器id")]),t._v("\n")])])]),a("p",[a("strong",[t._v("启动和停止容器：")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("docker start 容器id\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启动容器")]),t._v("\ndocker restart 容器id\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 重启容器")]),t._v("\ndocker stop 容器id\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 停止当前正在运行的容器")]),t._v("\ndocker "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("kill")]),t._v(" 容器id\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 强制停止当前容器")]),t._v("\n")])])]),a("h3",{attrs:{id:"常用的其他命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用的其他命令"}},[t._v("#")]),t._v(" 常用的其他命令")]),t._v(" "),a("p",[a("strong",[t._v("后台启动容器：")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xxx /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker run -d 镜像名")]),t._v("\n")])])]),a("p",[a("strong",[t._v("查看日志：")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示所有日志")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xxx /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker logs -tf 容器id")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示指定条数的日志")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xxx /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker logs -tf --tail 条数 容器id")]),t._v("\n")])])]),a("p",[a("strong",[t._v("查看镜像的元数据：")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xxx /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker inspect 容器id")]),t._v("\n")])])]),a("p",[a("strong",[t._v("进入当前正在运行的容器：")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 容器通常使用后台方式运行")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 方式一")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xxx /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker exec -it 容器id /bin/bash")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 方式二")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xxx /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker attach 容器id")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 两个方式的区别：")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker exec\t\t进入容器后开启一个新的终端，可以在里面操作（操作）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker attach\t\t进入容器正在执行的终端，不会启动新的进程")]),t._v("\n")])])]),a("p",[a("strong",[t._v("从容器内拷贝文件到主机：")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xxx /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker cp 容器id:/目录/源文件 /目标目录")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);