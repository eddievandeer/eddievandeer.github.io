(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{462:function(a,t,e){"use strict";e.r(t);var s=e(0),r=Object(s.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey},scopedSlots:a._u([{key:"abstract",fn:function(){return[e("p",[a._v("前段时间初步确定了自己毕设要做什么，大概需要一个 Web 端、一个 App 端、一个桌面应用（暂定，有可能不要了），这两天开始了技术选型，在 App 这块的技术经过原生、 "),e("a",{attrs:{href:"http://emas.weex.io/zh/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Weex"),e("OutboundLink")],1),a._v(" 、"),e("a",{attrs:{href:"https://reactnative.dev/",target:"_blank",rel:"noopener noreferrer"}},[a._v("React Native"),e("OutboundLink")],1),a._v(" 的对比后，最后还是选择了甚至没用过的 "),e("strong",[a._v("React Native")])]),a._v(" "),e("p",[a._v("原生开发时，写样式真的太难受了，因此这个是我第一个就 Pass 掉了的，而 Weex 在之前安卓开发的课程期末大作业上尝试过，虽然会比原生好一些，但我还是觉得不太满意。然后就是我们今天的主角： React Native 了，最开始是因为在好多前端的招聘要求上都看到了会 React Native 优先考虑（如美团），那么我自然是要为将来找工作做准备啦，直接试水这项 “新技术”")])]},proxy:!0}])},[e("h2",{attrs:{id:"什么是react-native"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么是react-native"}},[a._v("#")]),a._v(" 什么是React Native")]),a._v(" "),e("p",[a._v("React Naitve 是由 FaceBook 在 2015 年开源的混合应用开发框架，使传统前端开发者也可以基于 React 框架快速开发移动端 APP")]),a._v(" "),e("h2",{attrs:{id:"react-native的工作原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#react-native的工作原理"}},[a._v("#")]),a._v(" React Native的工作原理")]),a._v(" "),e("p",[a._v("在原生的 App 中使用 WebView 控件作为载体，直接承载着 Web 页面，然后通过 JSBridge 来完成 H5 端与 Native 端之间的通讯，使两者之间可以进行交互，从而赋予 H5 一定的原生能力，让我们的 App 不仅可以拥有原生 Native 极致的体验和性能，还能够享受 Web 技术的快速迭代能力，灵活开发的特点和线上热更新的机制")]),a._v(" "),e("p",[a._v("React 在这中间扮演的角色就是一个转换器，将 Web 中的 DOM 解析成 Virtual DOM ，并使用 JSON 格式将这些数据通过 JSBridge 传递给 Native 层进行解析，以此来生成 APP 的页面")]),a._v(" "),e("h2",{attrs:{id:"开发环境搭建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开发环境搭建"}},[a._v("#")]),a._v(" 开发环境搭建")]),a._v(" "),e("p",[a._v("开发安卓应用时，除了 Node 、 JDK 以外，还需要安装 AndroidStudio ，为的是获取编译 Android 应用所需的工具和环境")]),a._v(" "),e("p",[a._v("在开发 ios 应用时，需要 Node 、 Watchman 和 CocoaPods，同时还必须安装 XCode ，理由和安卓的一样。此外，苹果公司目前只允许在 Mac 电脑上开发 ios 应用，所以要进行 ios 开发还需要准备一台 Mac")]),a._v(" "),e("p",[a._v("因为我没有 mac 电脑，所以本篇文章只记录在 Windows 电脑上使用 React Native 开发 Android 应用的过程")]),a._v(" "),e("h3",{attrs:{id:"node-和-jdk"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#node-和-jdk"}},[a._v("#")]),a._v(" Node 和 JDK")]),a._v(" "),e("p",[a._v("这两个依赖直接百度一下就会有一大堆安装教程了，这里就不赘述了")]),a._v(" "),e("p",[a._v("注意 Node 的版本应大于等于 12，而 JDK 的版本必须是 1.8 。在安装完依赖后，可以将 npm 镜像设置为淘宝源加速后续下载 node 模块的过程，如果能够科学上网可以忽略这一步")]),a._v(" "),e("blockquote",[e("p",[a._v("不要使用 cnpm！cnpm 安装的模块路径比较奇怪，packager 不能正常识别！")])]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 使用淘宝源")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" config "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("set")]),a._v(" registryhttps://registry.npm.taobao.org/\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 如果之后需要切换回官方源可使用")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" config "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("set")]),a._v(" registry https://registry.npmjs.org/\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# OR")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 使用nrm工具切换淘宝源")]),a._v("\nnpx nrm use taobao\nnpx nrm use "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br")])]),e("h3",{attrs:{id:"android-开发环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#android-开发环境"}},[a._v("#")]),a._v(" Android 开发环境")]),a._v(" "),e("p",[a._v("这一步会比较繁琐，需要下载 Android Studio 以及 SDK ，可以参考 "),e("a",{attrs:{href:"https://www.react-native.cn/docs/environment-setup",target:"_blank",rel:"noopener noreferrer"}},[a._v("React Native 中文网"),e("OutboundLink")],1),a._v(" 上面的文档")]),a._v(" "),e("p",[a._v("然后是配置环境变量：")]),a._v(" "),e("p",[a._v("新建一个名为 "),e("code",[a._v("ANDROID_HOME")]),a._v(" 的环境变量，其值为 SDK 所在的目录，默认为： "),e("code",[a._v("C:\\Users\\你的用户名\\AppData\\Local\\Android\\Sdk")])]),a._v(" "),e("p",[a._v("最后将工具目录添加到环境变量 "),e("code",[a._v("Path")]),a._v(" 上：")]),a._v(" "),e("div",{staticClass:"language-powershell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("%")]),a._v("ANDROID_HOME"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("%")]),a._v("\\platform"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("tools\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("%")]),a._v("ANDROID_HOME"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("%")]),a._v("\\emulator\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("%")]),a._v("ANDROID_HOME"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("%")]),a._v("\\tools\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("%")]),a._v("ANDROID_HOME"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("%")]),a._v("\\tools\\bin\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br")])]),e("h3",{attrs:{id:"创建新项目"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建新项目"}},[a._v("#")]),a._v(" 创建新项目")]),a._v(" "),e("p",[a._v("为了避免因全局安装过旧版本的 "),e("code",[a._v("react-native-cli")]),a._v(" 命令行工具导致的一些冲突，建议使用 "),e("code",[a._v("npx")]),a._v(" 命令：")]),a._v(" "),e("div",{staticClass:"language-powershell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[a._v("npx react"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("native init ProjectName\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 使用--version参数指定版本")]),a._v("\nnpx react"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("native init AwesomeProject "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("version X"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("XX"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("X\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 还可以使用--template来使用一些社区提供的模板，例如带有TypeScript配置的")]),a._v("\nnpx react"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("native init AwesomeTSProject "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("template react"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("native"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("template"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("typescript\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br")])]),e("h3",{attrs:{id:"编译并运行"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#编译并运行"}},[a._v("#")]),a._v(" 编译并运行")]),a._v(" "),e("p",[a._v("进入新建的项目中，运行如下命令启动项目：")]),a._v(" "),e("div",{staticClass:"language-powershell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[a._v("npx react"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("native run"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("android\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("跑起来以后，可以通过 "),e("code",[a._v("Ctrl + M")]),a._v(" 调出开发菜单，其中 "),e("code",[a._v("Reload")]),a._v(" 和 "),e("code",[a._v("Debug")]),a._v(" 最常用，而 "),e("code",[a._v("Debug")]),a._v(" 可以让我们开启浏览器来进行调试，"),e("code",[a._v("console.log()")]),a._v(" 等都可以在浏览器的控制台看到")]),a._v(" "),e("h3",{attrs:{id:"开发流程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开发流程"}},[a._v("#")]),a._v(" 开发流程")]),a._v(" "),e("p",[a._v("开发 React Native 项目的流程其实就和普通 React 项目差不多，无非是把 div 等 HTML 标签换成了 React Native 官方提供的组件，本质上是一样的")]),a._v(" "),e("p",[a._v("如果有一些特殊功能官方没提供的，可以到 https://reactnative.directory 来搜索社区开源的第三方库")])])}),[],!1,null,null,null);t.default=r.exports}}]);