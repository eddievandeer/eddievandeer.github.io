<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>浏览器笔记 | Vivek的博客小站</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="May the force be with you">
    <link rel="preload" href="/assets/css/0.styles.33e70ae1.css" as="style"><link rel="preload" href="/assets/js/app.b55ed75a.js" as="script"><link rel="preload" href="/assets/js/6.af6458d0.js" as="script"><link rel="preload" href="/assets/js/2.3c5a55c9.js" as="script"><link rel="preload" href="/assets/js/12.d62e67b6.js" as="script"><link rel="prefetch" href="/assets/js/10.7c34b4ef.js"><link rel="prefetch" href="/assets/js/11.e28d2eb7.js"><link rel="prefetch" href="/assets/js/13.d435f0c8.js"><link rel="prefetch" href="/assets/js/14.e4e1810b.js"><link rel="prefetch" href="/assets/js/15.d12fe98c.js"><link rel="prefetch" href="/assets/js/16.444cdf88.js"><link rel="prefetch" href="/assets/js/17.3e5e16b3.js"><link rel="prefetch" href="/assets/js/18.05896c95.js"><link rel="prefetch" href="/assets/js/19.b3126580.js"><link rel="prefetch" href="/assets/js/20.4a09ad4f.js"><link rel="prefetch" href="/assets/js/21.905a87ad.js"><link rel="prefetch" href="/assets/js/3.1bc55272.js"><link rel="prefetch" href="/assets/js/4.076fe443.js"><link rel="prefetch" href="/assets/js/5.c704d4fc.js"><link rel="prefetch" href="/assets/js/7.801e81f6.js"><link rel="prefetch" href="/assets/js/8.a595c3d4.js"><link rel="prefetch" href="/assets/js/9.d608c1f1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.33e70ae1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-0eea0433><div class="blog-header" data-v-0eea0433><div class="tool-bar"><div class="tool-bar-1"><div class="navigation-bar"><div class="bar-item"><a href="/" class="router-link-active"><button type="button">首页</button></a></div> <div class="bar-item"><a href="/frontend" class="router-link-active"><button type="button">前端笔记</button></a></div> <div class="bar-item"><a href="/album"><button type="button">画册</button></a></div> <div class="bar-list">
                              工具箱   <i aria-hidden="true" class="fa fa-caret-down"></i> <div class="bar-item-list"><div class="bar-item"><a href="https://tinypng.com/" target="__blank"><button type="button">图片压缩 <i aria-hidden="true" class="fa fa-external-link"></i></button></a></div> <div class="bar-item"><a href="https://sm.ms/" target="__blank"><button type="button">免费图床 <i aria-hidden="true" class="fa fa-external-link"></i></button></a></div> <div class="bar-item"><a href="https://www.iconfont.cn/home/index" target="__blank"><button type="button">矢量图标库 <i aria-hidden="true" class="fa fa-external-link"></i></button></a></div> <div class="bar-item"><a href="http://zhongguose.com/" target="__blank"><button type="button">中国色 <i aria-hidden="true" class="fa fa-external-link"></i></button></a></div> <div class="bar-item"><a href="https://learngitbranching.js.org/?locale=zh_CN" target="__blank"><button type="button">Git可视化学习 <i aria-hidden="true" class="fa fa-external-link"></i></button></a></div> <div class="bar-item"><a href="https://flatuicolors.com/" target="__blank"><button type="button">取色板 <i aria-hidden="true" class="fa fa-external-link"></i></button></a></div></div></div> <div class="bar-item"><a href="/about"><button type="button">关于</button></a></div></div></div> <div class="tool-bar-2"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <div class="bar-item"><a href="https://codepen.io/eddievandeer" target="__blank"><button type="button">CodePen <i aria-hidden="true" class="fa fa-external-link"></i></button></a></div> <div class="bar-item"><a href="https://github.com/eddievandeer/eddievandeer.github.io" target="__blank"><button type="button">GitHub <i aria-hidden="true" class="fa fa-external-link"></i></button></a></div></div></div></div> <div class="index-container" data-v-5fc65af5 data-v-0eea0433><div class="blog-indexes" data-v-5fc65af5><a href="#构建dom" class="index-level-2" data-v-5fc65af5><p data-v-5fc65af5>构建DOM</p></a></div><div class="blog-indexes" data-v-5fc65af5><a href="#cssom" class="index-level-2" data-v-5fc65af5><p data-v-5fc65af5>CSSOM</p></a></div><div class="blog-indexes" data-v-5fc65af5><a href="#浏览器渲染原理" class="index-level-2" data-v-5fc65af5><p data-v-5fc65af5>浏览器渲染原理</p></a></div></div> <div class="article" data-v-0eea0433><div class="article-detail" data-v-0eea0433><div class="content__default" data-v-0eea0433><h1 id="浏览器笔记"><a href="#浏览器笔记" class="header-anchor">#</a> 浏览器笔记</h1> <h2 id="构建dom"><a href="#构建dom" class="header-anchor">#</a> 构建DOM</h2> <p>解析HTML，添加节点到树中</p> <p><img src="http://p0.qhimg.com/t01e1ff266d0b355d62.gif" alt="img"></p> <p>加载JS文件时阻塞：当浏览器构建 DOM 的时候，如果在 HTML 中遇到了一个 <code>&lt;script&gt;...&lt;/script&gt;</code>标签，它必须立即执行。如果脚本是来自于外部的，那么它必须首先下载脚本。</p> <p>原因：因为脚本可以改变DOM，需要等脚本改变完再继续构建DOM，否则不安全</p> <p><img src="http://p0.qhimg.com/t01e3b5f9d1aaa24fea.gif" alt="img"></p> <p>CSS 可能会阻塞解析，取决于外部样式表和脚本在文档中的顺序。如果在文档中外部样式表放置在脚本之前，由于CSS解析与Script执行互斥，当解析器获取到一个 script 标签，DOM 将无法继续构建直到 JavaScript 执行完毕，而 JavaScript 在 CSS 下载完，解析完，并且 CSSOM 可以使用的时候，才能执行。</p> <p><img src="http://p0.qhimg.com/t011e23f55c658b7ba2.png" alt="img"></p> <p>最佳实践：样式放顶部，脚本放底部</p> <h2 id="cssom"><a href="#cssom" class="header-anchor">#</a> CSSOM</h2> <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CSS_Object_Model" target="_blank" rel="noopener noreferrer">MDN上对CSSOM的描述<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <blockquote><p>The CSS Object Model is a set of APIs allowing the manipulation of CSS from JavaScript. It is much like the DOM, but for the CSS rather than the HTML. It allows users to read and modify CSS style dynamically.</p></blockquote> <p>CSSOM是一组允许JavaScript操作CSS的API，类似于DOM</p> <h2 id="浏览器渲染原理"><a href="#浏览器渲染原理" class="header-anchor">#</a> 浏览器渲染原理</h2> <p>浏览器渲染过程主要分五步：</p> <ul><li>将HTML文档解析为DOM树</li> <li>处理CSS标记，构建CSSOM</li> <li>将DOM和CSSOM合并为渲染树(rendering tree)，同时display:none的元素不在该树中</li> <li>布局（回流），即让利浏览器弄清楚各个节点在页面的确切位置和大小</li> <li>调用GPU绘制、合成图层，显示在屏幕上</li></ul></div></div></div></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.b55ed75a.js" defer></script><script src="/assets/js/6.af6458d0.js" defer></script><script src="/assets/js/2.3c5a55c9.js" defer></script><script src="/assets/js/12.d62e67b6.js" defer></script>
  </body>
</html>
