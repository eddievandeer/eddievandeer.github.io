---
title: 秋招补录
postTime: 2021-12-31
categories: 面试
tags: 
- 面试
- 前端
---
::: slot abstract

因为在西山居的实习离职得比较晚，算是错过了秋招的高峰期，后面投了几次简历，只有中通和字节面试了，字节发挥不好挂了（其实是菜），中通一路很顺利的来到了 HR 面，没想到却倒在了最后一步。。

没办法的我想着只能好好准备春招了，但在一个偶然的机会，我看到了百度和网易的秋招补录，于是各投了一次简历，还都有了面试的机会

:::



## 秋招补录

### 网易 一面

今天是 2021 的倒数第二天，月初投的网易秋招补录初筛通过了，约的今天面试，这里记一下

1. 自我介绍

2. Vue 跟 React 哪个用的更多？

   那自然是初恋 Vue 了~

3. 对自己前端三剑客掌握情况的评价

   CSS 和 JS 五五开吧，HTML 论外

   然后面试官就掏出几张图片来，照着图片一张一张的问我问题，我甚至怀疑是所有人都问同一套题目，莫名的觉得这面试官好懒~

4. 实现垂直水平居中

   这里我只回答了用 `flex` 布局，配合 `justify-content: center` 和 `align-items: center` 实现居中，就被面试官打断了，后续本来还打算说说 `position + tranform` 、 `flex + margin: auto` ，面试官就让我详细讲解一下 `flex` 布局

5. flex布局

   问的很细，大概。首先上来先是给我一张图，照着这张图就开始问（面试官也是手画的）

   ![扫描全能王 2022-01-01 20.12](https://upyun.cavalheiro.cn/images/%E6%89%AB%E6%8F%8F%E5%85%A8%E8%83%BD%E7%8E%8B%202022-01-01%2020.12.jpg)

   ① 用 `flex` 实现这个布局，首先 A 是固定高度，B 是固定宽度，C 宽度自适应，三者加起来宽高正好占满整个屏幕

   - 首先为 ABC 套一个父元素，记为 `container` ，设置为 `flex` 布局，同时设置 `flex-direction: column`

   - 为 BC 套一个父元素，记为 `parent` ，也设置为 `flex` 布局

   - 为 A 设置高度，同时 `parent` 添加 `flex: 1` ，使其整体占据 `container` 的剩余空间

   - 为 B 设置宽度，同时 C 添加 `flex: 1` 使其占据 `parent` 的剩余空间

     最开始我回答时没有用到 `container` ，而是设置 `parent` 的高度为 `calc(100vh - A的高度)` ，面试官说应该尽量避免使用减法，问我如何优化？我犹豫了一下，回答了用负值，虽然事后尝试过确实可行，但不知道是不是面试官想要的答案
     
     这里还问了 `flex-direction` ，功能是设置主轴，也就是 `justify-content` 对应的轴

   ② 这个布局就简单了， `align-items: center` 垂直居中，然后 `justify-content: space-between` 就好了

   ③ 上面那题的进阶版，左右两边各有两个元素，且这两个元素的间距和它们与边界的距离比例是 `2:1` （如图）。一个简单的实现方式：把他分成两个 ② ，然后设置一样的宽高

   另一种是左右分开，当时我没答上来，面试官就直接略过了，并给了我个提示让我下去自己看看，说是可以设置间距的比例，但我在 [MDN](https://developer.mozilla.org/zh-CN/docs/Web/CSS/justify-content) 上没找到相关的 `flex` 属性，后来仔细一想，好像也可以计算一下设置个 `margin` 来解决

6. 了解移动端适配吗？

   回答只了解一些，如：`@media` 、 `rem` 等。面试官问我自己的项目是怎么去适配不同尺寸的手机，回答多采用 `flex` 布局，对一些需要不同尺寸显示不同样式的，使用 `@media` 

7. 分析以下代码的运行结果

   ~~~js
   (function(x, f = function() {return x}) {
       var x
       var y = x
       x = 2
       return [x, y, f()]
   })(1)
   ~~~

   这里我踩坑了，回答的是 `2, undefined, 1` ，但实际上答案应该是 `2, 1, 1` ，这里的坑出现在 `var x` 上： `var` 定义的变量会出现变量提升。JS 的函数形参其实只是为了方便使用而已，这里形参 x 的真实形式是这样的： `var x = arguments[0]` ，因此这段代码其实等价于：

   ~~~js
   var x = 1
   var x
   var y = x
   x = 2
   ~~~

   因为 `var` 的声明会被提升到最上面，所以后面出现的 `var x` 并不会覆盖前面的，值还是 1 ，所以 `y = 1` 

8. 下面这两种给数组添加元素的方式效果一样吗？

   ~~~js
   var arr = [1, 2, 3]
   
   // 方式一
   arr.push(4)
   // 方式二
   arr = [...arr, 4]
   ~~~

   不一样，虽然结果看起来一样，但使用展开符的方式其实是创建了一个新的数组，改变了 `arr` 的指向，已经不是同一个数组了

9. Vue 一般在哪个生命周期里发送请求？

   当时回答的是，我通常在 `created` 和 `mounted` 中发请求，更多的是在 `mounted` 里

10. 在 created 钩子中，能否访问 data 上的值？

   能，因为此时 Vue 实例已经创建，完成数据的初始化了

11. Vue 中在 data 里定义的对象动态添加的属性是否具有响应式？

    答：不具有。因为 Vue2 中的响应式是基于 `Object.defineProperty` 实现的， data 上定义的变量包括对象变量的属性，都是有一个 `getter` 和一个 `setter` 的，然后通过这两者去做依赖收集和发出更新视图的消息。而我们直接使用 `this.obj.a` 这样的形式为对象 `obj` 添加属性时，并没有对应 `getter` 和 `setter` 来实现视图的更新，因此不具有响应性

12. 那有没有办法让动态添加的属性具有响应式？

    这题没答好，稍微标记一下

    从已有的 `obj` 复制出一个新的对象，然后往这个新的对象添加属性，最后将 `obj` 赋值为这个新的对象。可以使用展开操作符： `obj = {...obj, c: 1}` ，或者可以使用 `asign` 方法： `obj = Object.assign({}, obj, {c: 1})` 来复制一个新对象

    还有一种方式是 Vue 提供的，在 Vue 构造函数和实例中都有的方法：`Vue.set(this.obj,'c',1)` 和 `this.$set(this.obj,'c',1)`

13. 在 v-for 生成的列表中，若引用的数组新增了一条数据，那么会重新渲染整个列表吗？

    答：不会。因为虚拟 DOM 的 diff 算法是先比较新旧虚拟 DOM 树的节点是否相同，不同则替换或修改属性，新增则创建并插入新的节点，而这里只是新增，只会多插入一个节点

    面试官又问：那 `key` 在在这一过程中有什么作用？

    这里我的回答勉强算是对一半吧，只是以前看过一点，就随口回答了复用元素节点，查了下，准确来说应该是 **为了更高效的更新虚拟 DOM**

14. 实现按钮每 2 秒只能触发一次点击事件

   看到题目想都没想就答了个可以用 **节流** 来解决，还写了代码，过程也还蛮流畅，然后面试官问我：能不能不用到闭包来实现这个功能？当时是给我问懵了，一下没反应过来。。

   然后面试官居然问我是不是对这道题有提前准备过，差不多是在问我是不是背题了，我当即否定，并说明只是之前学习过节流和防抖，所以看到这道题的第一反应就知道用节流

15. 讲一讲 Promise 的 all 和 race 的作用和不同

16. 有50个请求，同一时间最多发送六个，每有一个请求完成就由下一个请求进行补位，问如何实现

   这道题着实给我整懵逼了，要是六个六个发我还能用 `Promise.all` 来做，这要有一个发完才能进来一个，我是真的不会了。放出题目后，面试官直接说他去外边接杯水，我先自己琢磨着，然后几分钟后才回来，问我想出解决方案了吗？让我怀疑他给我这道题是为了去接水，而不是为了考察我。。。

   最后我给出了一个很呆的方案：维护一个数组，先将前六个请求放进去，用 `Promise.race` 执行，当有一个请求完成时，在 `.then()` 中将对应的请求抛出数组，并向数组放入新的请求，再次执行 `Promise.race` 。这个方法我是实在没办法了才讲的，因为会不停发重复的请求，就特别呆，但我总不能什么都不说吧。。。

面试到这里就结束了，当时在面的时候感觉好像都没问什么的样子，结果现在整理一下好像问的还是蛮多的，就是知识面比较窄一些，局限在了 CSS 和 JS 上，也没问一些网络和浏览器运行原理的题目

因为好几题答得不好，甚至有的直接给我干懵了，结果没想到居然过了，第二天就收到了二面预约时间的邮件，让我有种受宠若惊的感觉

